import{g as a}from"./index-DgO7HsDd.js";function d(l,t){var o;t&&((o=t.getStyle().layers)==null||o.forEach(e=>{(e.id.startsWith("line-layer-")||e.id.startsWith("line-arrow-"))&&t.getLayer(e.id)&&t.removeLayer(e.id)}),Object.keys(t.getStyle().sources).forEach(e=>{e.startsWith("line-")&&t.removeSource(e)}),Object.entries(l).forEach(([e,n])=>{if(n.length<2)return;const s=n.slice().sort((i,r)=>(i.year_start??0)-(r.year_start??0)).map(i=>{const r=a(i.lang);return[r.coords[1],r.coords[0]]});t.addSource(`line-${e}`,{type:"geojson",data:{type:"Feature",properties:{},geometry:{type:"LineString",coordinates:s}}}),console.log("line",s),t.addLayer({id:`line-layer-${e}`,type:"line",source:`line-${e}`,layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#fff","line-width":12}}),t.addLayer({id:`line-arrow-${e}`,type:"symbol",source:`line-${e}`,layout:{"symbol-placement":"line","symbol-spacing":50,"icon-image":"triangle-15","icon-allow-overlap":!0,"icon-ignore-placement":!0,"icon-rotate":90}})}))}export{d as drawLines};
